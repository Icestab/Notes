(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{358:function(s,t){s.exports="data:image/png;base64,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"},359:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlQAAAAxCAMAAAAr4MfbAAAAkFBMVEUAAAAzgMXl5eXlxYAzAADl5cWAMwAAM4DFxYAAXKMAADOAxeWjXAAAAFyj5eXFgDPlo1yj5aNcAABco+XF5eXF5aMAXICAxcWjxYCAo+Xl5aOAgKMzXKOjo6Oj5cWAo4BcM4BcgIAzADPF5cXFxaOjxeUzM4CjxcXFxcWAM1yjo1yjgDPlo6Nco8Wjo8WAxaOraimWAAAEiElEQVR42u2aiVbbOhCGI980xo65cmPubQvd973v/3adNRNhEAfKoSH834HIGo9kWfktycosAAAAAAAAAAAAAAAAAABwTVLT/LNc/H1S82i1qNAenW9lF+2ul6vcdL8e1OVyuqYZFtfn+N8mLx4cXUOMfHBDUaU/67Sy+PHjDX3elai0cN2l9ExNoZGJu65fNw09CpYs2hP2sdyf98+9hDurX+c9EVX7336LqmxvItv/q/7JijOWHD/l/hwodzv9cy+RzupGO5AnLMsjyNnET5sbFc+1R8/onA50pxt36Z+cxTxqtShcQHLtCSXu+dyKC/54h0tUZm2xy3rV7PmCUimg3+Pxy5V6qlErHVgx/Zqyem4+/gzeQLs/rof7pSIqH1ZLUZkTRLUzUk1ZFhhEGmXc6F8t3ahYrj0ZyMU7zV3ki3OsFoMKqJckW8/5SFW6GN4WvaxVrZ4kJy0wDeL3WjzdKP9vlu3R23Xe1nJeKuzrDdw2cqDDoSIqUaFPf4MltpAaNPdgRVWsqajTpRs0376jx60wRo4SduHDMIb25vOLFBg92XrORVW6ONEWq5MTy1mBlGl46UbzjOtJ7v2HHLVcIKqyQMp0yENRTVSdSCmbjDRhCw+9lnuootLOclGdqMYSfeq08mi1NQqeo/nERRVGmQMCq0WxApaw52WiKlwcbYufs6o1F8nHTznl0pMSLf35dCOpTeiUlKLyAnoroijS1UWi8uJStfpEomrKloOoltKx8/GAjU64hKjCGDqwWiojVUVUpUsQ+hGXMmEZnH35Og3mGdez5k7jtpbqSOV3Ow1UV3VN9dRFNU8gqvg+ZVHRDXw80ffyjVcublQ3z4WoxjCWOrBaLlxThajG86IqXRxrS4jKFlOaWNWnm+l0Y57n11RLno30XHm9ck0Vd9t9f7ypv/1NMv11WWa6SNSI6Y+Z/C1u5GN5q0oN28yoeM5FRV0X5QodeC0Xvf25pxUvvuTCJZC2+GW96nj7M30nb/X87Y/XQHaOiZumJhDD7tvfKC0bZ/3UiWfsbGpnic2T1KjxIS/U74z26Gb7YHsCdtT3kXsuKrCPQFQAAAD2Cnuvnseg3Hl0TL++yWIY7CGyMaOb3/UYlC5+rqszd/GwEf/RuGuY0bafNV4EC6/DgfSjeumKDaNbF5VYY/PJD3/8zLxNyDk1gQOApKIfuiu9E2KmASYyfISTB7tcHdBSFVVE3aRsv6KxECfs6hwEyWIU5GjK8UOYnS1E5dq4OqDFz5aiiggRvU7/a7MV1SiX03JYW91vUo5Rw+I+XFR6oiqqeUBLXVQRE2LXoj82mB47iOog2B2pLO7DRZUoUxPV1QEtQVhNOlOW9RxZNSLlzEYqcADsrqlIHGUMyvVGqmuISq/QNYxVizXV4VC8/Wnch4tKA0wonpITzcdoUg9ouWz6s5gQcQnrG7m6lMf0dxD4PlXEfah+IgJGEgsUiWiVqwNaQhwRNmIxIaxUxae/lc6mENVBwAK6Kbe7W4kddXDrogIAogIAAAAAAAAAAAAAAAAAAABgL/gNR5lSh1Go8nwAAAAASUVORK5CYII="},360:function(s,t){s.exports="data:image/png;base64,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"},361:function(s,t){s.exports="data:image/png;base64,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"},362:function(s,t,a){s.exports=a.p+"assets/img/5.2d1515f9.png"},363:function(s,t,a){s.exports=a.p+"assets/img/6.9b0dc5ae.png"},377:function(s,t,a){"use strict";a.r(t);var n=a(25),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),n("p",[s._v("大约3年前因为需要使用google接触了科学上网，当时非常流行ss代理，在一个网站购买了包月服务开启了外网之旅；后来有机会拥有香港服务器于是自己搭建了ss-server。")]),s._v(" "),n("p",[s._v("本文大致分为三个部分，ss-server搭建、ss-server升级、vpn搭建。")]),s._v(" "),n("h2",{attrs:{id:"_1、shadowsocks"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、shadowsocks"}},[s._v("#")]),s._v(" 1、Shadowsocks")]),s._v(" "),n("h3",{attrs:{id:"_1-1-ss介绍-维基百科"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ss介绍-维基百科"}},[s._v("#")]),s._v(" 1.1 SS介绍（维基百科）")]),s._v(" "),n("p",[n("strong",[s._v("Shadowsocks")]),s._v("（简称"),n("strong",[s._v("SS")]),s._v("）是一种基于"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-SOCKS#SOCK5",target:"_blank",rel:"noopener noreferrer"}},[s._v("Socks5"),n("OutboundLink")],1),s._v("代理方式的加密传输协议，也可以指实现这个协议的各种开发包。目前包使用"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-Python",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-C%E8%AA%9E%E8%A8%80",target:"_blank",rel:"noopener noreferrer"}},[s._v("C"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-C%2B%2B",target:"_blank",rel:"noopener noreferrer"}},[s._v("C++"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-C%E2%99%AF",target:"_blank",rel:"noopener noreferrer"}},[s._v("C#"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-Go%E8%AF%AD%E8%A8%80",target:"_blank",rel:"noopener noreferrer"}},[s._v("Go语言"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-Rust",target:"_blank",rel:"noopener noreferrer"}},[s._v("Rust"),n("OutboundLink")],1),s._v("等编程语言开发，大部分主要实现（"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-IOS",target:"_blank",rel:"noopener noreferrer"}},[s._v("iOS"),n("OutboundLink")],1),s._v("平台的除外）采用"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-Apache%E8%AE%B8%E5%8F%AF%E8%AF%81",target:"_blank",rel:"noopener noreferrer"}},[s._v("Apache许可证"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-GPL",target:"_blank",rel:"noopener noreferrer"}},[s._v("GPL"),n("OutboundLink")],1),s._v("、"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-MIT%E8%A8%B1%E5%8F%AF%E8%AD%89",target:"_blank",rel:"noopener noreferrer"}},[s._v("MIT许可证"),n("OutboundLink")],1),s._v("等多种"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-%E8%87%AA%E7%94%B1%E8%BB%9F%E9%AB%94",target:"_blank",rel:"noopener noreferrer"}},[s._v("自由软件"),n("OutboundLink")],1),s._v("许可协议"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-%E9%96%8B%E6%94%BE%E5%8E%9F%E5%A7%8B%E7%A2%BC",target:"_blank",rel:"noopener noreferrer"}},[s._v("开放源代码"),n("OutboundLink")],1),s._v("。Shadowsocks分为服务器端和客户端，在使用之前，需要先将服务器端程序部署到服务器上面，然后通过客户端连接并创建本地代理。")]),s._v(" "),n("p",[s._v("在中国大陆，本工具广泛用于突破"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-%E9%98%B2%E7%81%AB%E9%95%BF%E5%9F%8E",target:"_blank",rel:"noopener noreferrer"}},[s._v("防火长城"),n("OutboundLink")],1),s._v("（GFW），以浏览被封锁、遮蔽或干扰的内容。2015年8月22日，Shadowsocks原作者Clowwindy称受到了"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%92%8C%E5%9B%BD%E7%BD%91%E7%BB%9C%E5%AE%A1%E6%9F%A5",target:"_blank",rel:"noopener noreferrer"}},[s._v("中华人民共和国政府的压力"),n("OutboundLink")],1),s._v("，宣布停止维护此计划（项目）并移除其个人页面所存储的源代码["),n("a",{attrs:{href:"https://www.tw.wiiaa.top/wiki/Shadowsocks#cite_note-4",target:"_blank",rel:"noopener noreferrer"}},[s._v("4]"),n("OutboundLink")],1),s._v("["),n("a",{attrs:{href:"https://www.tw.wiiaa.top/wiki/Shadowsocks#cite_note-effchinacoder-5",target:"_blank",rel:"noopener noreferrer"}},[s._v("5]"),n("OutboundLink")],1),s._v("。")]),s._v(" "),n("p",[s._v("为了避免"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-%E5%85%B3%E9%94%AE%E8%AF%8D%E8%BF%87%E6%BB%A4",target:"_blank",rel:"noopener noreferrer"}},[s._v("关键词过滤"),n("OutboundLink")],1),s._v("，网民会根据"),n("a",{attrs:{href:"https://www.tw.wiiaa.top/baike-%E8%AB%A7%E9%9F%B3_(%E8%AA%9E%E8%A8%80%E5%AD%B8)",target:"_blank",rel:"noopener noreferrer"}},[s._v("谐音"),n("OutboundLink")],1),s._v("将ShadowsocksR称为“酸酸乳”["),n("a",{attrs:{href:"https://www.tw.wiiaa.top/wiki/Shadowsocks#cite_note-6",target:"_blank",rel:"noopener noreferrer"}},[s._v("注 1]"),n("OutboundLink")],1),s._v("（SSR），将Shadowsocks称为“酸酸”（SS）。另外Shadowsocks的标志为纸飞机，而专门提供Shadowsocks或类似软件（如V2Ray）服务器的网站也被称为“机场”。")]),s._v(" "),n("h3",{attrs:{id:"_1-2-ss搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-ss搭建"}},[s._v("#")]),s._v(" 1.2 SS搭建")]),s._v(" "),n("h4",{attrs:{id:"_1-2-1-快速搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-快速搭建"}},[s._v("#")]),s._v(" 1.2.1 快速搭建")]),s._v(" "),n("p",[s._v("目前这个项目在github上仍然能够搜到"),n("a",{attrs:{href:"https://github.com/shadowsocks",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击前往"),n("OutboundLink")],1),s._v("，不够原作者已经没有维护了，基于Python的版本也停留在了2017年，但是由于Python安装简单所以也是一个不错的选择，大致流程如下：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python3-pip\npip3 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --upgrade pip pip3 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" setuptools\npip3 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" shadowsocks\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python-m2crypto\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("安装完毕后新建一个配置文件启动即可：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/shadowsocks.json\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"server"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),s._v(",\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"server_port"')]),s._v(":1234, "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#监听端口")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"password"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx"')]),s._v(", "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#密码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"timeout"')]),s._v(":300,\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"method"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"aes-256-cfb"')]),s._v(", "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加密协议")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fast_open"')]),s._v(":true "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否启用fast_open建议开启")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nsystemctl start shadowsocks\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),n("p",[s._v("如果有防火墙放行对应的端口即可。")])]),s._v(" "),n("h4",{attrs:{id:"_1-2-2-shadowsocks-libev"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-shadowsocks-libev"}},[s._v("#")]),s._v(" 1.2.2  shadowsocks-libev")]),s._v(" "),n("p",[s._v("我个人使用的是这个版本，最新"),n("strong",[s._v("v3.3.5")]),s._v("上次更新2020年9月，算是比较新的，而且网上也能下载到一键搭建脚本，使用比较方便。")]),s._v(" "),n("p",[s._v("第一次搭建使用的脚本为"),n("a",{attrs:{href:"/ss/shadowsocks-libev-old.sh"}},[s._v("shadowsocks-libev.sh")]),s._v(",安装脚本提示一步一步进行就可以了，可以说是非常简单，在使用大约两年后想起升级，于是再次运行这个脚本，虽然ss-server版本升级了，但是客服端却无法连接了；在细心阅读脚本文件后任然找不到原因。")]),s._v(" "),n("p",[s._v("于是乎去网上找了另外一个安装脚本"),n("a",{attrs:{href:"/ss/centos-shadowsocks-libev.sh"}},[s._v("centos-shadowsocks-libev.sh")])]),s._v(" "),n("p",[s._v("在执行前需要卸载原版本，方法很简单"),n("code",[s._v("./shadowsocks-libev.sh uninstall")]),s._v("提示是否卸载，输入y即可。")]),s._v(" "),n("p",[s._v("给新脚本添加执行权限，然后直接运行，详细操作如下：")]),s._v(" "),n("p",[s._v("1、提示设置SS密码，输入自定义密码后按回车，也可以直接按回车使用默认密码")]),s._v(" "),n("p",[n("img",{attrs:{src:a(358),alt:"1"}})]),s._v(" "),n("p",[s._v("2、接下来选择SS要使用的服务器端口，输入自己喜欢的端口， 也可以直接按回车使用默认端口")]),s._v(" "),n("p",[n("img",{attrs:{src:a(359),alt:"2"}})]),s._v(" "),n("p",[s._v("3、 然后选择加密方式（仅保留相对安全的加密方式），如果选择chacha20的话，就输入对应序号3，按回车继续")]),s._v(" "),n("p",[n("img",{attrs:{src:a(360),alt:"3"}})]),s._v(" "),n("p",[s._v("4、 安装完成后，会有如下图安装成功的提示，记住各项信息，在客户端连接时需要用到")]),s._v(" "),n("p",[n("img",{attrs:{src:a(361),alt:"4"}})]),s._v(" "),n("p",[s._v("至此SS服务端就安装完毕了，非常简单，脚本自动拉取最新版本，所有这次成功升级到了最新。")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),n("p",[s._v("安装完后配置文件在"),n("code",[s._v("/etc/shadowsocks-libev/config.json")]),s._v(",可自行修改配置。")]),s._v(" "),n("p",[s._v("修改完成后"),n("code",[s._v("systemctl restart shadowsocks-libev.service")]),s._v("即可生效。")])]),s._v(" "),n("p",[s._v("目前有Go语言的版本，有兴趣朋友可以自行研究。")]),s._v(" "),n("h3",{attrs:{id:"_1-3-ss客服端"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-ss客服端"}},[s._v("#")]),s._v(" 1.3 SS客服端")]),s._v(" "),n("p",[s._v("服务端搭建完毕后需要客户端配合使用，可以到"),n("a",{attrs:{href:"https://github.com/shadowsocks",target:"_blank",rel:"noopener noreferrer"}},[s._v("shadowsocks (github.com)"),n("OutboundLink")],1),s._v("找到对应的操作系统版本下载，不过为了方便我给出常用下载地址：")]),s._v(" "),n("p",[s._v("安卓："),n("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-android/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Releases · shadowsocks/shadowsocks-android (github.com)"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("img",{attrs:{src:a(362),alt:"5"}})]),s._v(" "),n("p",[s._v("一般安卓手机选择arm64即可。")]),s._v(" "),n("p",[s._v("Windows："),n("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Releases · shadowsocks/shadowsocks-windows (github.com)"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("img",{attrs:{src:a(363),alt:"6"}})]),s._v(" "),n("p",[s._v("选择第一个压缩包，解压后直接运行即可。")]),s._v(" "),n("p",[s._v("macOS："),n("a",{attrs:{href:"https://github.com/shadowsocks/ShadowsocksX-NG/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Releases · shadowsocks/ShadowsocksX-NG (github.com)"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("本人无mac，配置方式都差不多。")]),s._v(" "),n("p",[s._v("下载安装后，填上服务器地址、端口号、密码、加密方式就能正常使用了，这里就不再赘述了。")]),s._v(" "),n("h3",{attrs:{id:"_1-4-ss服务端优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-ss服务端优化"}},[s._v("#")]),s._v(" 1.4 SS服务端优化")]),s._v(" "),n("p",[s._v("目前SS可以使用算法加速，我现在使用的是"),n("code",[s._v("BBR")]),s._v("加速和"),n("code",[s._v("open_fast")]),s._v(",当然还有"),n("code",[s._v("kcptun")]),s._v("由于我目前使用已经很流畅了，就没有继续折腾了。")]),s._v(" "),n("p",[s._v("开启"),n("code",[s._v("open_fast")]),s._v("很简单，第一章就提到了，可以自行返回查看。")]),s._v(" "),n("p",[s._v("Google 开源了其 TCP BBR 拥塞控制算法，并提交到了 Linux 内核，从 4.9 开始，Linux 内核已经用上该算法，所有你的机器内核得大于4.9，不过如果你是新装的centos7一般都大于这个版本了。")]),s._v(" "),n("p",[s._v("如果不幸你低于这个版本，那么自行百度一下如何升级。")]),s._v(" "),n("p",[s._v("这里我提供一键配置bbr脚本"),n("a",{attrs:{href:"/ss/bbr.sh"}},[s._v("点击下载")]),s._v("，按照提示运行即可。")]),s._v(" "),n("h2",{attrs:{id:"_2、vpn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、vpn"}},[s._v("#")]),s._v(" 2、VPN")]),s._v(" "),n("h3",{attrs:{id:"_2-1-介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-介绍"}},[s._v("#")]),s._v(" 2.1 介绍")]),s._v(" "),n("h6",{attrs:{id:"pptp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pptp"}},[s._v("#")]),s._v(" PPTP")]),s._v(" "),n("p",[s._v("PPTP(Point-to-Point Tunneling Protocol，点对点隧道协议)是由微软为了在拨号网络方面创建VPN而成立的一个团队开发而生，因此长期以来一直都是其企业内部的VPN标准协议。它也是一个通过搭配各种认证方法（通常是MS-CHAP v2）以提供安全性的VPN协议。因为PPTP协议作为一个在几乎所有有VPN能力的平台和设备上都可以无需安装额外软件而使用的标准，它至今仍然是企业和VPN供应商们的热门选择。同时，它有着低计算开销即可实现的优势（通俗地说就是运行速度很快）。")]),s._v(" "),n("ul",[n("li",[s._v("几乎所有平台都内置好了PPTP协议的VPN客户端")]),s._v(" "),n("li",[s._v("非常易于搭建")]),s._v(" "),n("li",[s._v("不够安全（弱势的MSCHAPv2依旧被广泛使用）")]),s._v(" "),n("li",[s._v("绝对妥协于NSA")])]),s._v(" "),n("h6",{attrs:{id:"l2tp-以及-l2tp-ipsec"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#l2tp-以及-l2tp-ipsec"}},[s._v("#")]),s._v(" L2TP 以及 L2TP/IPsec")]),s._v(" "),n("p",[s._v("L2TP(Layer 2 Tunnel Protocol，第二层隧道协议)是一种协议本身不对通过的流量进行加密或实施保密措施的VPN协议。也正是因为这个原因，L2TP通常会结合IPsec加密套件（如下所述，类似于一种密码）来实现，以此提供安全性和隐私性。")]),s._v(" "),n("p",[s._v("L2TP/IPsec已经被内置于所有现代化操作系统以及具有VPN功能的设置，同时它也如PPTP一般，操作简单、可快速搭建（实际上它与PPTP使用的设备通常也是相同的）。")]),s._v(" "),n("p",[s._v("L2tp/IPsec会进行两次数据封装，这似乎会让速度慢下来。不过首先，它的加密解密行为发生在内核之中，其次LwTP/IPsec也允许多线程（OpenVPN并没有这个功能），这两点完全可以将两次数据封装造成的减速抵消掉，结果是L2TP在理论上会比OpenVPN更快。")]),s._v(" "),n("ul",[n("li",[s._v("通常公认其安全")]),s._v(" "),n("li",[s._v("易于搭建")]),s._v(" "),n("li",[s._v("适用于全部现代化平台")]),s._v(" "),n("li",[s._v("较OpenVPN更快")]),s._v(" "),n("li",[s._v("或许已经向NSA妥协了（但未被证实）")]),s._v(" "),n("li",[s._v("或许被NSA故意削弱过（但未被证实）")]),s._v(" "),n("li",[s._v("会跟限制性防火墙产生冲突")])]),s._v(" "),n("h6",{attrs:{id:"openvpn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#openvpn"}},[s._v("#")]),s._v(" OpenVPN")]),s._v(" "),n("p",[s._v("OpenVPN可以说是一种崭新的开源技术，它使用了OpenSSL库和SSLv3/TLSv1协议，通过与其他的技术融为一体，来提供一个强大而可靠的VPN解决方案。")]),s._v(" "),n("ul",[n("li",[s._v("高度可配置性")]),s._v(" "),n("li",[s._v("非常安全（如果使用了PFS完全正向加密，甚至对NSA都是安全的）")]),s._v(" "),n("li",[s._v("可以绕过防火墙")]),s._v(" "),n("li",[s._v("可以使用多种加密算法")]),s._v(" "),n("li",[s._v("开源（因此可以很容易地去检查项目中的后门情况或者其他有可能被NSA修改过的地方）")]),s._v(" "),n("li",[s._v("需要第三方软件")]),s._v(" "),n("li",[s._v("安装过程比较繁琐")]),s._v(" "),n("li",[s._v("尽管在努力改善对移动端设备的支持，缺还是不及桌面端的完善程度")])]),s._v(" "),n("h6",{attrs:{id:"sstp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sstp"}},[s._v("#")]),s._v(" SSTP")]),s._v(" "),n("p",[s._v("SSTP（Secure Socket Tunneling Protocol，安全套接字隧道协议）是微软在Windows Vista SP1时推出的，虽然它现在可用于Linux、RouterOS和SEIL，但是它极大程度上还是一种仅限Windows平台的协议（让它支持苹果设备的可能性等同于地狱里面出现了一个雪球）。")]),s._v(" "),n("ul",[n("li",[s._v("非常安全（这取决于加密方式，不过通常使用AES就非常强大了）")]),s._v(" "),n("li",[s._v("完全集成到了Windows操作系统中（Windows Vista SP1, Windows 7, Windows 8）")]),s._v(" "),n("li",[s._v("微软官方支持")]),s._v(" "),n("li",[s._v("可以绕过大多数防火墙")]),s._v(" "),n("li",[s._v("只有在Windows环境才能真正工作")]),s._v(" "),n("li",[s._v("作为微软的专有标准，不能被独立核查出后门以及其他问题")])]),s._v(" "),n("h6",{attrs:{id:"ikev2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ikev2"}},[s._v("#")]),s._v(" IKEv2")]),s._v(" "),n("p",[s._v("IKEv2（Internet Key Exchange version 2，因特网密钥交换版本2）基于IPSec隧道协议，由微软和思科联合开发，并被兼并到了Windows7及以上版本中。")]),s._v(" "),n("p",[s._v("IKEv2有着非常实用的自动重连特性，当用户暂时失去互联网连接（比如进出火车隧道）的时候，它会自动重新建立VPN连接。对于手机用户来说确实是喜大普奔。Ikev2能跑在几乎所有iOS定制的VPN应用上，为了那些使用苹果公司官方VPN API的人无需越狱来使用它（也正因为这些优势，能让VPN供应商能够很容易地把更新配置文件推送到使用VPN的用户或者应用程序上）。")]),s._v(" "),n("ul",[n("li",[s._v("比PPTP，SSTP和L2TP更快，它不涉及在点对点协议（Point-to-Point protocols，PPP）上的开销")]),s._v(" "),n("li",[s._v("非常稳定 - 尤其是切换网络或者在短暂的网络连接丢失之后重新连接的时候")]),s._v(" "),n("li",[s._v("非常安全 - 支持AES 128，AES 192，AES 256以及3DES加密算法")]),s._v(" "),n("li",[s._v("易于安装和配置 - 至少在用户端是如此")]),s._v(" "),n("li",[s._v("协议也支持黑莓的设备")]),s._v(" "),n("li",[s._v("暂时还不支持很多的平台")]),s._v(" "),n("li",[s._v("在服务器上搭建IKEv2相对来说很费劲，这也是很多问题的隐患所在 我们所对它的信任仅因为它进行了开源")])]),s._v(" "),n("h3",{attrs:{id:"_2-2-协议选择"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-协议选择"}},[s._v("#")]),s._v(" 2.2 协议选择")]),s._v(" "),n("p",[s._v("PPTP是搭建最为简单，但也是最不推荐的一种，我个人比较钟爱L2TP/IPsec，这个协议目前几乎所有智能设备都内置了，不用下载客户端即可使用。")]),s._v(" "),n("p",[s._v("有人肯定想问已经在SS稳定使用的情况下为什么还要搭建VPN，之所以会有这个需求，主要是因为SS在小米(MIUI)上有问题，主要体现在不稳定。")]),s._v(" "),n("p",[s._v("开始我以为是软件问题，不过后面把路由器刷了潘多拉后由路由器SS代理仍然不稳定，而且仅我手里这台小米这样，我上一部iphone和我电脑都不存在这个问题。")]),s._v(" "),n("p",[s._v("问题主要体现在打开代理无论pac模式还是全局模式，有概率无法代理APP流量，经常导致steam，google play等软件很长时间无法正常使用（非常抓狂）。")]),s._v(" "),n("p",[s._v("想知道路由器刷固件的可以参考我另外一个"),n("a",{attrs:{href:"https://github.flysch.cn/life/RM2100.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("文章"),n("OutboundLink")],1)]),s._v(" "),n("h3",{attrs:{id:"_2-3-vpn搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-vpn搭建"}},[s._v("#")]),s._v(" 2.3 VPN搭建")]),s._v(" "),n("h4",{attrs:{id:"_2-3-1-l2tp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-l2tp"}},[s._v("#")]),s._v(" 2.3.1 L2TP")]),s._v(" "),n("p",[s._v("在开始我就要很不幸的告诉大家，我失败了，再使用了一天的时间，试了好几个文章的方法都无法正常连接，我选择放弃了。")]),s._v(" "),n("p",[s._v("下面我给出我找到的文章，感兴趣的可以自行尝试。")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.cnblogs.com/fisherpau/p/11576552.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("CentOS7 搭建L2TP - 玉米花豆 - 博客园 (cnblogs.com)"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/weixin_44621066/article/details/108285573?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-4.vipsorttest&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-4.vipsorttest",target:"_blank",rel:"noopener noreferrer"}},[s._v("Centos7搭建L2TP与Win10连接测试_CodeSunShines-CSDN博客"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.0z.gs/soso/centos-pptp.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("腾讯云 CentOS 7.6 部署 pptp vpn - 飘在云端 (0z.gs)"),n("OutboundLink")],1)]),s._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),n("p",[s._v("所有文章我都一步一步试的，配置文件都没问题，服务正常启动，端口都正常开放，但是无论手机还是电脑死活都连不上。")])]),s._v(" "),n("h4",{attrs:{id:"_2-3-2-ikev2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-ikev2"}},[s._v("#")]),s._v(" 2.3.2 IKEv2")]),s._v(" "),n("p",[s._v("其实这个协议应该算是目前最好的，开始以为搭建会很麻烦，结果比昨天的L2TP还简单，一次成功。")]),s._v(" "),n("p",[s._v("下面是详细操作步骤：")]),s._v(" "),n("p",[s._v("1.安装strongswan")]),s._v(" "),n("p",[n("code",[s._v("yum install strongswan")])]),s._v(" "),n("p",[s._v("2.创建证书")]),s._v(" "),n("p",[n("code",[s._v("strongswan pki --gen --outform pem > ca.key.pem")])]),s._v(" "),n("p",[n("code",[s._v('strongswan pki --self --in ca.key.pem --dn "C=CN, O=one, CN=one t CA" --ca --lifetime 3650 --outform pem > ca.cert.pem')])]),s._v(" "),n("p",[n("code",[s._v("strongswan pki --gen --outform pem > server.key.pem")])]),s._v(" "),n("p",[n("code",[s._v("strongswan pki --pub --in server.key.pem --outform pem > server.pub.pem")])]),s._v(" "),n("p",[n("code",[s._v('strongswan pki --pub --in server.key.pem | strongswan pki --issue --lifetime 3601 --cacert ca.cert.pem --cakey ca.key.pem --dn "C=CN, O=one, CN=one t CA" --san="你的服务器公网ip" --flag serverAuth --flag ikeIntermediate --outform pem > server.cert.pem')])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),n("p",[s._v("注意最后一个代码替换自己服务器ip")])]),s._v(" "),n("p",[s._v("3.安装证书")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r ca.key.pem /etc/strongswan/ipsec.d/private/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r ca.cert.pem /etc/strongswan/ipsec.d/cacerts/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r server.cert.pem /etc/strongswan/ipsec.d/certs/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r server.pub.pem /etc/strongswan/ipsec.d/certs/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r server.key.pem /etc/strongswan/ipsec.d/private/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("4.配置")]),s._v(" "),n("p",[n("code",[s._v("vim /etc/strongswan/ipsec.conf")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("config setup  \n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uniqueids")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("never "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#允许多个客户端使用同一个证书")]),s._v("\n \nconn %default  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#定义连接项, 命名为 %default 所有连接都会继承它")]),s._v("\n    compress "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否启用压缩, yes 表示如果支持压缩会启用.")]),s._v("\n    dpdaction "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#当意外断开后尝试的操作, hold, 保持并重连直到超时.")]),s._v("\n    dpddelay "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 30s "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#意外断开后尝试重连时长")]),s._v("\n    dpdtimeout "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 60s "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#意外断开后超时时长, 只对 IKEv1 起作用")]),s._v("\n    inactivity "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 300s "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#闲置时长,超过后断开连接.")]),s._v("\n    leftdns "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".8.8,8.8.4.4 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#指定服务端与客户端的dns, 多个用","分隔')]),s._v("\n    rightdns "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".8.8,8.8.4.4\n \nconn IKEv2-BASE\n    leftca "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C=CN, O=one, CN=one t CA"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务器端根证书DN名称，与 --dn 内容一致 ")]),s._v("\n    leftsendcert "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" always "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否发送服务器证书到客户端")]),s._v("\n    rightsendcert "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" never "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#客户端不发送证书")]),s._v("\n \nconn IKEv2-EAP  \n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("keyexchange")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ikev2       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认的密钥交换算法, ike 为自动, 优先使用 IKEv2")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("left")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%any       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务器端标识,%any表示任意  ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("leftid")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务器端ID标识，你的服务器公网ip  ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("leftsubnet")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0/0        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务器端虚拟ip, 0.0.0.0/0表示通配.  ")]),s._v("\n    leftcert "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" server.cert.pem     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务器端证书  ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("leftauth")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("pubkey     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#服务器校验方式，使用证书  ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("right")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%any      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#客户端标识，%any表示任意  ")]),s._v("\n    rightsourceip "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.1")]),s._v(".0.0/16    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#客户端IP地址分配范围  ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rightauth")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eap-mschapv2  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#eap-md5#客户端校验方式#KEv2 EAP(Username/Password)   ")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("also")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("IKEv2-BASE\n    eap_identity "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" %any "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定客户端eap id")]),s._v("\n    rekey "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不自动重置密钥")]),s._v("\n    fragmentation "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#开启IKE 消息分片")]),s._v("\n    auto "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#当服务启动时, 应该如何处理这个连接项. add 添加到连接表中.")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ios 和 mac Psk连接，无需证书 (EAP账号密码及psk)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#android Psk 连接，无需证书（XAUTH账户密码及psk）")]),s._v("\nconn Android_Ios_Mac_XauthPSK\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("keyexchange")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ikev1\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ike")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("aes128-aes256-sha1-modp3072-modp2048,3des-sha1-md5-modp1024,aes256-sha512-modp4096,aes128-sha256-modp3072\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("esp")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("aes128-sha1,aes256-sha256_96,3des-sha1,aes256-sha1\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("left")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%defaultroute\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("leftauth")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("psk\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("leftsubnet")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0/0\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("right")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%any\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rightauth")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("psk\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rightauth2")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xauth\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rightsourceip")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.1")]),s._v(".0.0/16\n     "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("auto")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("add\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br")])]),n("p",[s._v("5.修改配置")]),s._v(" "),n("p",[n("code",[s._v("vim /etc/strongswan/strongswan.conf")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("\ncharon "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        load_modular "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n        i_dont_care_about_security_and_use_aggressive_mode_psk "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n        compress "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n        plugins "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                 duplicheck"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                            "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no\n                 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                include strongswan.d/charon/*.conf\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\ninclude strongswan.d/*.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("5.1查看日志（两种方法）")]),s._v(" "),n("p",[n("code",[s._v("1.journalctl -f -u strongswan")])]),s._v(" "),n("p",[n("code",[s._v("2.tail -f /var/log/messages")])]),s._v(" "),n("p",[s._v("6.配置用户密码")]),s._v(" "),n("p",[s._v("`vim /etc/strongswan/ipsec.secrets")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用证书验证时的服务器端私钥")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#格式 : RSA <private key file> [ <passphrase> | %prompt ]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" RSA server.key.pem\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用预设加密密钥, 越长越好")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#格式 [ <id selectors> ] : PSK <secret>")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" PSK "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxxxx"')]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#EAP 方式, 格式同 psk 相同 (用户名/密码 例：oneAA/oneTT)")]),s._v("\noneAA "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" EAP "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"oneTT"')]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#XAUTH 方式, 只适用于 IKEv1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#格式 [ <servername> ] <username> : XAUTH "<password>"')]),s._v("\noneAA "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" XAUTH "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"oneTT"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("6.开始内核转发")]),s._v(" "),n("p",[n("code",[s._v("vim /etc/sysctl.conf")])]),s._v(" "),n("p",[s._v("修改：")]),s._v(" "),n("p",[n("code",[s._v("net.ipv4.ip_forward = 1")])]),s._v(" "),n("p",[s._v("如果开启了ipv6，那么也要把对应的改为1")]),s._v(" "),n("p",[s._v("输入下面命令生效：")]),s._v(" "),n("p",[n("code",[s._v("sysctl -p")])]),s._v(" "),n("p",[s._v("添加upd端口")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("firewall-cmd --permanent --add-port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("-4500/udp\nfirewall-cmd --permanent --add-masquerade\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("调整MTU-MSS、添加GRE，否则隧道失败：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("firewall-cmd --permanent --direct --add-rule ipv4 filter INPUT "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -p gre -j ACCEPT\nfirewall-cmd --permanent --direct --add-rule ipv4 filter FORWARD "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -p tcp -i eth0 -j TCPMSS --syn --set-mss "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1299")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("8.配置防火墙")]),s._v(" "),n("p",[n("code",[s._v("vim /etc/firewalld/zones/public.xml")])]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token prolog"}},[s._v('<?xml version="1.0" encoding="utf-8"?>')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("zone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("short")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("Public"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("short")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("For use in public areas. You do not trust the other computers on networks to not harm your computer. Only selected incoming connections are accepted."),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("eth0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("service")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ssh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("service")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("dhcpv6-client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("service")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ipsec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("port")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("protocol")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("tcp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("1723"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("port")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("protocol")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("tcp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("47"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("port")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("protocol")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("tcp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("1701"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("port")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("protocol")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("tcp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("22"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("masquerade")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("rule")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("family")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ipv4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("source")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("address")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("10.1.0.0/16"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("masquerade")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("                                                                                                                                                                                    \n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("rule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("rule")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("family")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ipv4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("source")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("address")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("10.1.0.0/16"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("forward-port")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("to-port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("4500"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("protocol")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("udp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("4500"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("rule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("rule")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("family")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("ipv4"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("source")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("address")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("10.1.0.0/16"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("forward-port")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("to-port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("500"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("protocol")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("udp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("port")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("500"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("rule")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("masquerade")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("zone")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("9.开启防火墙和strongswan")]),s._v(" "),n("p",[n("code",[s._v("systemctl start firewalld")])]),s._v(" "),n("p",[n("code",[s._v("systemctl start strongswan")])]),s._v(" "),n("p",[s._v("10.开放安全组端口")]),s._v(" "),n("p",[s._v("不同云服务商操作方法不同，不过大体相似，参照云服务商文档开启UPD500和4500端口即可。")]),s._v(" "),n("h3",{attrs:{id:"_2-4-vpn使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-vpn使用"}},[s._v("#")]),s._v(" 2.4 vpn使用")]),s._v(" "),n("p",[s._v("基本上系统都自带了IKEv2的协议的vpn")]),s._v(" "),n("p",[s._v("将服务器"),n("code",[s._v("ca.cert.pem")]),s._v("导出到需要的设备上，ios和mac操作都很简单这里不演示，这里说明一下遇到困难的小米和windows。")]),s._v(" "),n("p",[s._v("小米:")]),s._v(" "),n("p",[s._v("系统自带IKEv2是个废品，无法使用，只能到strongswan官网下载软件使用。")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://download.strongswan.org/Android/?C=M;O=D",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载地址"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("选择最新版本即可。")]),s._v(" "),n("p",[s._v("步骤：右上角选项--\x3eCA证书--\x3e再选择右上角选项--\x3e导入证书--\x3e找到ca.cert.pem点击即可。\n回到主界面--\x3e添加配置--\x3e例：服务器地址：你的服务器公网ip\n类型：IKEv2 EAP(用户名/密码)，填写用户名和密码\nCA证书：选择刚才导入的ca.cert.pem证书\n点击右上角--保存")]),s._v(" "),n("p",[s._v("如果没有问题，这时就能正常连接使用了。")]),s._v(" "),n("p",[s._v("windows:")]),s._v(" "),n("p",[s._v("windows默认不支持DH2048_AES256协商协议,会导致正常导入证书后无法连接。")]),s._v(" "),n("p",[s._v("解决办法：添加注册表项，不需要重启生效")]),s._v(" "),n("p",[n("code",[s._v("HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Services\\Rasman\\Parameters里新建类型为DWORD的NegotiateDH2048_AES256 键，值设置为1")])]),s._v(" "),n("p",[s._v("至此windows正常连接。")])])}),[],!1,null,null,null);t.default=e.exports}}]);